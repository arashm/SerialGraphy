!function(){window.App=Ember.Application.create()}.call(this),function(){App.ShowsRoute=Em.Route.extend({model:function(){return App.Show.findAll()},actions:{search:function(e){return this.controllerFor("application").set("filteredShow",e)},nextPage:function(){return this.controller.incrementProperty("page")},previousPage:function(){return this.controller.decrementProperty("page")}}})}.call(this),function(){App.Show=Em.Object.extend(),App.Show.reopenClass({findAll:function(){var e;return e="http://serialgraphy.com/api/?callback=?",$.getJSON(e).then(function(e){var t,r;return r=new Date,t=Em.A(),e.forEach(function(e){return e.episodes.forEach(function(e){return e.filtered=!0,new Date(e.episode.first_aired_iso)<r?void 0:t.pushObject(App.Show.create(e))})}),t})}})}.call(this),function(){App.ApplicationController=Em.Controller.extend({filteredShow:"",filterShow:function(){var e,t;return e=this.get("filteredShow").toLowerCase(),t=this.controllerFor("shows").get("arrangedContent"),Em.isEmpty(e)?t.forEach(function(e){return e.set("filtered",!0)}):t.forEach(function(t){return t.get("show.title").toLowerCase().indexOf(e)>=0?t.set("filtered",!0):t.set("filtered",!1)})}.observes("filteredShow")})}.call(this),function(){App.ShowController=Em.ObjectController.extend({imdbLink:function(){return"http://imdb.com/title/"+this.get("show.imdb_id")}.property()})}.call(this),function(){App.ShowsController=Em.ArrayController.extend({sortProperties:["episode.first_aired_iso"],sortAscending:!0,filteredContent:Em.computed.filterBy("arrangedContent","filtered",!0),page:1,perPage:10,totalPages:function(){return Math.ceil(this.get("filteredContent").length/this.get("perPage"))}.property("length","perPage","filteredContent.[]"),paginatedContent:function(){var e,t;return t=(this.get("page")-1)*this.get("perPage"),e=this.get("page")*this.get("perPage"),this.get("filteredContent").slice(t,e)}.property("page","perPage","filteredContent.[]"),disableNextPage:function(){return this.get("page")>=this.get("totalPages")}.property("page","totalPages"),disablePerviousPage:function(){return this.get("page")<=1}.property("page"),resetPage:function(){return this.set("page",1)}.observes("filteredContent.[]")})}.call(this),function(){Em.Handlebars.helper("showDescription",function(e){return 0===e.length?new Handlebars.SafeString("<p class='show__nodesc'>No description for this episode.</p>"):e}),Em.Handlebars.helper("formatDate",function(e){return moment(e).fromNow()})}.call(this),function(){App.ShowsView=Em.View.extend({didInsertElement:function(){return this.$(".pager__prev, .pager__next").on("click",function(){return $("html, body").animate({scrollTop:0},500)})}})}.call(this),Ember.TEMPLATES.application=Ember.Handlebars.template(function(e,t,r,n,i){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),i=i||{};var s,o,a,u,c="",l=r.helperMissing,h=this.escapeExpression;return i.buffer.push('<section id=\'content\' class="main-content snap-content">\n  <a href="https://github.com/arashm/SerialGraphy">\n    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">\n  </a>\n  <header>\n    <a href="/" class="brand">Serialgraphy</a>\n  </header>\n  <section id=\'the-app\'>\n    <form class=\'form\'>\n      '),o={value:t,id:t,"class":t,placeholder:t},a={value:"ID",id:"STRING","class":"STRING",placeholder:"STRING"},u={hash:{value:"filteredShow",id:"search","class":"form__search",placeholder:"Search..."},contexts:[],types:[],hashContexts:o,hashTypes:a,data:i},i.buffer.push(h((s=r.input||t&&t.input,s?s.call(t,u):l.call(t,"input",u)))),i.buffer.push("\n    </form>\n    "),a={},o={},i.buffer.push(h(r._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:o,hashTypes:a,data:i}))),i.buffer.push("\n  </section>\n</section>\n"),c}),Ember.TEMPLATES.loading=Ember.Handlebars.template(function(e,t,r,n,i){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),i=i||{},i.buffer.push('<ul>\n  <li class="shows shows__loading">\n    <p>Loading<span>.</span><span>.</span><span>.</span></p>\n  </li>\n</ul>\n')}),Ember.TEMPLATES.shows=Ember.Handlebars.template(function(e,t,r,n,i){function s(e,t){var n,i,s,o,a="";return t.buffer.push("\n    <li "),i={"class":e},s={"class":"STRING"},t.buffer.push(p(r.bindAttr.call(e,{hash:{"class":":shows__show data.isFiltered"},contexts:[],types:[],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push(">\n      <section class='show__image'>\n        <a href='"),s={},i={},t.buffer.push(p(r.unbound.call(e,"imdbLink",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push("'>\n          <img src='"),s={},i={},t.buffer.push(p(r.unbound.call(e,"data.episode.images.screen",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push("' alt=\""),s={},i={},t.buffer.push(p(r.unbound.call(e,"data.show.title",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push('">\n        </a>\n      </section>\n      <section class=\'show__desc\'>\n        <h2><a href="#" '),s={},i={},t.buffer.push(p(r.action.call(e,"search","data.show.title",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push(" >"),s={},i={},t.buffer.push(p(r._triageMustache.call(e,"data.show.title",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push("</a><small> "),s={},i={},t.buffer.push(p(r._triageMustache.call(e,"data.show.network",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push('</small> </h2>\n        <p class=\'meta\'>\n          <span class=\'info\'>\n            <span class="show__episode">\n                S<span class="collapse">eason</span> <span class="number">'),s={},i={},t.buffer.push(p(r._triageMustache.call(e,"data.episode.season",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push('</span> E<span class="collapse">pisode</span> <span class="number">'),s={},i={},t.buffer.push(p(r._triageMustache.call(e,"data.episode.number",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push('</span>\n            </span>\n            <span class="show__time">\n                <span class="sep">&bull;</span>\n                <span class="genre">'),s={},i={},o={hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t},t.buffer.push(p((n=r.formatDate||e&&e.formatDate,n?n.call(e,"data.episode.first_aired_iso",o):f.call(e,"formatDate","data.episode.first_aired_iso",o)))),t.buffer.push('</span><span class="sep">&bull;</span>\n                <span class="genre"> '),s={},i={},t.buffer.push(p(r._triageMustache.call(e,"data.show.air_time",{hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t}))),t.buffer.push(" </span>\n            </span>\n          </span>\n        </p>\n        <p>\n          "),s={},i={},o={hash:{},contexts:[e],types:["ID"],hashContexts:i,hashTypes:s,data:t},t.buffer.push(p((n=r.showDescription||e&&e.showDescription,n?n.call(e,"data.episode.overview",o):f.call(e,"showDescription","data.episode.overview",o)))),t.buffer.push("\n        </p>\n      </section>\n    </li>\n  "),a}function o(e,t){t.buffer.push("\n    <p>No Show Found :(</p>\n  ")}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,Ember.Handlebars.helpers),i=i||{};var a,u,c,l,h="",p=this.escapeExpression,f=r.helperMissing,d=this;return i.buffer.push("<ul class='shows'>\n  "),u={itemController:t},c={itemController:"STRING"},a=r.each.call(t,"data","in","paginatedContent",{hash:{itemController:"show"},inverse:d.program(3,o,i),fn:d.program(1,s,i),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:u,hashTypes:c,data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push('\n</ul>\n<section class="pager">\n  <button '),u={disabled:t},c={disabled:"ID"},l={hash:{disabled:"disablePerviousPage"},contexts:[],types:[],hashContexts:u,hashTypes:c,data:i},i.buffer.push(p((a=r["bind-attr"]||t&&t["bind-attr"],a?a.call(t,l):f.call(t,"bind-attr",l)))),i.buffer.push(' class="pager__prev" '),c={},u={},i.buffer.push(p(r.action.call(t,"previousPage",{hash:{},contexts:[t],types:["STRING"],hashContexts:u,hashTypes:c,data:i}))),i.buffer.push(">Previous</button>\n  <button "),u={disabled:t},c={disabled:"ID"},l={hash:{disabled:"disableNextPage"},contexts:[],types:[],hashContexts:u,hashTypes:c,data:i},i.buffer.push(p((a=r["bind-attr"]||t&&t["bind-attr"],a?a.call(t,l):f.call(t,"bind-attr",l)))),i.buffer.push(' class="pager__next" '),c={},u={},i.buffer.push(p(r.action.call(t,"nextPage",{hash:{},contexts:[t],types:["STRING"],hashContexts:u,hashTypes:c,data:i}))),i.buffer.push('>Next</button>\n  <section class="pager__pages">Page '),c={},u={},i.buffer.push(p(r._triageMustache.call(t,"page",{hash:{},contexts:[t],types:["ID"],hashContexts:u,hashTypes:c,data:i}))),i.buffer.push(" / "),c={},u={},i.buffer.push(p(r._triageMustache.call(t,"totalPages",{hash:{},contexts:[t],types:["ID"],hashContexts:u,hashTypes:c,data:i}))),i.buffer.push("</section>\n</section>\n"),h}),function(){App.Router.map(function(){return this.resource("shows",{path:"/"})})}.call(this);