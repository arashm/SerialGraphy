!function(){window.App=Ember.Application.create()}.call(this),function(){App.ShowsRoute=Em.Route.extend({model:function(){return App.Show.findAll()}})}.call(this),function(){App.Show=Em.Object.extend(),App.Show.reopenClass({findAll:function(){var e;return e="http://serialgraphy.com/api/?callback=?",$.getJSON(e).then(function(e){var s,t;return t=new Date,s=Em.A(),e.forEach(function(e){return e.episodes.forEach(function(e){return e.filtered=!0,new Date(e.episode.first_aired_iso)<t?void 0:s.pushObject(App.Show.create(e))})}),s})}})}.call(this),function(){var e;App.ApplicationController=Em.Controller.extend(e="",{filterShow:function(){var s;return e=this.get("filteredShow").toLowerCase(),s=this.controllerFor("shows").get("arrangedContent"),Em.isEmpty(e)?s.forEach(function(e){return e.set("filtered",!0)}):s.forEach(function(s){return s.get("show.title").toLowerCase().indexOf(e)>=0?s.set("filtered",!0):s.set("filtered",!1)})}.observes("filteredShow")})}.call(this),function(){App.ShowController=Em.ObjectController.extend({imdbLink:function(){return"http://imdb.com/title/"+this.get("show.imdb_id")}.property()})}.call(this),function(){App.ShowsController=Em.ArrayController.extend({sortProperties:["episode.first_aired_iso"],sortAscending:!0,filteredContent:Em.computed.filterBy("arrangedContent","filtered",!0),page:1,perPage:10,totalPages:function(){return Math.ceil(this.get("filteredContent").length/this.get("perPage"))}.property("length","perPage","filteredContent.[]"),paginatedContent:function(){var e,s;return s=(this.get("page")-1)*this.get("perPage"),e=this.get("page")*this.get("perPage"),this.get("filteredContent").slice(s,e)}.property("page","perPage","filteredContent.[]"),disableNextPage:function(){return this.get("page")>=this.get("totalPages")}.property("page","totalPages"),disablePerviousPage:function(){return this.get("page")<=1}.property("page"),actions:{nextPage:function(){return this.incrementProperty("page")},previousPage:function(){return this.decrementProperty("page")}}})}.call(this),function(){Em.Handlebars.helper("showDescription",function(e){return 0===e.length?new Handlebars.SafeString("<p class='show__nodesc'>No description for this episode.</p>"):e}),Em.Handlebars.helper("formatDate",function(e){return moment(e).fromNow()})}.call(this),Ember.TEMPLATES.application=Ember.Handlebars.template(function(e,s,t,a,n){this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),n=n||{};var r,h,o,p,i="",l=t.helperMissing,c=this.escapeExpression;return n.buffer.push('<section id=\'content\' class="main-content snap-content">\n  <a href="https://github.com/arashm/SerialGraphy">\n    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">\n  </a>\n  <header>\n    <a href="/" class="brand">Serialgraphy</a>\n  </header>\n  <section id=\'the-app\'>\n    <form class=\'form\'>\n      '),h={value:s,id:s,"class":s,placeholder:s},o={value:"ID",id:"STRING","class":"STRING",placeholder:"STRING"},p={hash:{value:"filteredShow",id:"search","class":"form__search",placeholder:"Search..."},contexts:[],types:[],hashContexts:h,hashTypes:o,data:n},n.buffer.push(c((r=t.input||s.input,r?r.call(s,p):l.call(s,"input",p)))),n.buffer.push("\n    </form>\n    "),o={},h={},n.buffer.push(c(t._triageMustache.call(s,"outlet",{hash:{},contexts:[s],types:["ID"],hashContexts:h,hashTypes:o,data:n}))),n.buffer.push("\n  </section>\n</section>\n"),i}),Ember.TEMPLATES.shows=Ember.Handlebars.template(function(e,s,t,a,n){function r(e,s){var a,n,r,h,o="";return s.buffer.push("\n    <li "),n={"class":e},r={"class":"STRING"},s.buffer.push(u(t.bindAttr.call(e,{hash:{"class":":shows__show data.isFiltered"},contexts:[],types:[],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push(">\n      <section class='show__image'>\n        <a href='"),r={},n={},s.buffer.push(u(t.unbound.call(e,"imdbLink",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push("'>\n          <img src='"),r={},n={},s.buffer.push(u(t.unbound.call(e,"data.episode.images.screen",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push("' alt=\""),r={},n={},s.buffer.push(u(t.unbound.call(e,"data.show.title",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push('">\n        </a>\n      </section>\n      <section class=\'show__desc\'>\n        <h2><a href="#">'),r={},n={},s.buffer.push(u(t._triageMustache.call(e,"data.show.title",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push("</a><small> "),r={},n={},s.buffer.push(u(t._triageMustache.call(e,"data.show.network",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push('</small> </h2>\n        <p class=\'meta\'>\n          <span class=\'info\'>\n            <span class="show__episode">\n                S<span class="collapse">eason</span> <span class="number">'),r={},n={},s.buffer.push(u(t._triageMustache.call(e,"data.episode.season",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push('</span> E<span class="collapse">pisode</span> <span class="number">'),r={},n={},s.buffer.push(u(t._triageMustache.call(e,"data.episode.number",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push('</span>\n            </span>\n            <span class="show__time">\n                <span class="sep">&bull;</span>\n                <span class="genre">'),r={},n={},h={hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s},s.buffer.push(u((a=t.formatDate||e.formatDate,a?a.call(e,"data.episode.first_aired_iso",h):f.call(e,"formatDate","data.episode.first_aired_iso",h)))),s.buffer.push('</span><span class="sep">&bull;</span>\n                <span class="genre"> '),r={},n={},s.buffer.push(u(t._triageMustache.call(e,"data.show.air_time",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s}))),s.buffer.push(" </span>\n            </span>\n          </span>\n        </p>\n        <p>\n          "),r={},n={},h={hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:s},s.buffer.push(u((a=t.showDescription||e.showDescription,a?a.call(e,"data.episode.overview",h):f.call(e,"showDescription","data.episode.overview",h)))),s.buffer.push("\n        </p>\n      </section>\n    </li>\n  "),o}function h(e,s){s.buffer.push("\n    <p>No Show Found :(</p>\n  ")}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,Ember.Handlebars.helpers),n=n||{};var o,p,i,l,c="",u=this.escapeExpression,f=t.helperMissing,d=this;return n.buffer.push("<ul class='shows'>\n  "),p={itemController:s},i={itemController:"STRING"},o=t.each.call(s,"data","in","paginatedContent",{hash:{itemController:"show"},inverse:d.program(3,h,n),fn:d.program(1,r,n),contexts:[s,s,s],types:["ID","ID","ID"],hashContexts:p,hashTypes:i,data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push('\n</ul>\n<section class="pager">\n  <button '),p={disabled:s},i={disabled:"ID"},l={hash:{disabled:"disablePerviousPage"},contexts:[],types:[],hashContexts:p,hashTypes:i,data:n},n.buffer.push(u((o=t["bind-attr"]||s["bind-attr"],o?o.call(s,l):f.call(s,"bind-attr",l)))),n.buffer.push(' class="pager__prev" '),i={},p={},n.buffer.push(u(t.action.call(s,"previousPage",{hash:{},contexts:[s],types:["STRING"],hashContexts:p,hashTypes:i,data:n}))),n.buffer.push(">Previous</button>\n  <button "),p={disabled:s},i={disabled:"ID"},l={hash:{disabled:"disableNextPage"},contexts:[],types:[],hashContexts:p,hashTypes:i,data:n},n.buffer.push(u((o=t["bind-attr"]||s["bind-attr"],o?o.call(s,l):f.call(s,"bind-attr",l)))),n.buffer.push(' class="pager__next" '),i={},p={},n.buffer.push(u(t.action.call(s,"nextPage",{hash:{},contexts:[s],types:["STRING"],hashContexts:p,hashTypes:i,data:n}))),n.buffer.push('>Next</button>\n  <section class="pager__pages">Page '),i={},p={},n.buffer.push(u(t._triageMustache.call(s,"page",{hash:{},contexts:[s],types:["ID"],hashContexts:p,hashTypes:i,data:n}))),n.buffer.push(" / "),i={},p={},n.buffer.push(u(t._triageMustache.call(s,"totalPages",{hash:{},contexts:[s],types:["ID"],hashContexts:p,hashTypes:i,data:n}))),n.buffer.push("</section>\n</section>\n"),c}),function(){App.Router.map(function(){return this.resource("shows",{path:"/"})})}.call(this),function(){}.call(this);