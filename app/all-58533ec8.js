!function(){window.App=Ember.Application.create()}.call(this),function(){App.ShowsRoute=Em.Route.extend({model:function(){return App.Show.findAll()},actions:{search:function(e){return this.controllerFor("application").set("filteredShow",e)},nextPage:function(){return this.controller.incrementProperty("page")},previousPage:function(){return this.controller.decrementProperty("page")}}})}.call(this),function(){App.Show=Em.Object.extend(),App.Show.reopenClass({findAll:function(){var e;return e="http://serialgraphy.com/api/?callback=?",$.getJSON(e).then(function(e){var t,s;return s=new Date,t=Em.A(),e.forEach(function(e){return e.episodes.forEach(function(e){return e.filtered=!0,new Date(e.episode.first_aired_iso)<s?void 0:t.pushObject(App.Show.create(e))})}),t})}})}.call(this),function(){var e;App.ApplicationController=Em.Controller.extend(e="",{filterShow:function(){var t;return e=this.get("filteredShow").toLowerCase(),t=this.controllerFor("shows").get("arrangedContent"),Em.isEmpty(e)?t.forEach(function(e){return e.set("filtered",!0)}):t.forEach(function(t){return t.get("show.title").toLowerCase().indexOf(e)>=0?t.set("filtered",!0):t.set("filtered",!1)})}.observes("filteredShow")})}.call(this),function(){App.ShowController=Em.ObjectController.extend({imdbLink:function(){return"http://imdb.com/title/"+this.get("show.imdb_id")}.property()})}.call(this),function(){App.ShowsController=Em.ArrayController.extend({sortProperties:["episode.first_aired_iso"],sortAscending:!0,filteredContent:Em.computed.filterBy("arrangedContent","filtered",!0),page:1,perPage:10,totalPages:function(){return Math.ceil(this.get("filteredContent").length/this.get("perPage"))}.property("length","perPage","filteredContent.[]"),paginatedContent:function(){var e,t;return t=(this.get("page")-1)*this.get("perPage"),e=this.get("page")*this.get("perPage"),this.get("filteredContent").slice(t,e)}.property("page","perPage","filteredContent.[]"),disableNextPage:function(){return this.get("page")>=this.get("totalPages")}.property("page","totalPages"),disablePerviousPage:function(){return this.get("page")<=1}.property("page"),resetPage:function(){return this.set("page",1)}.observes("filteredContent.[]")})}.call(this),function(){Em.Handlebars.helper("showDescription",function(e){return 0===e.length?new Handlebars.SafeString("<p class='show__nodesc'>No description for this episode.</p>"):e}),Em.Handlebars.helper("formatDate",function(e){return moment(e).fromNow()})}.call(this),Ember.TEMPLATES.application=Ember.Handlebars.template(function(e,t,s,a,n){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var r,o,h,i,p="",l=s.helperMissing,c=this.escapeExpression;return n.buffer.push('<section id=\'content\' class="main-content snap-content">\n  <a href="https://github.com/arashm/SerialGraphy">\n    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">\n  </a>\n  <header>\n    <a href="/" class="brand">Serialgraphy</a>\n  </header>\n  <section id=\'the-app\'>\n    <form class=\'form\'>\n      '),o={value:t,id:t,"class":t,placeholder:t},h={value:"ID",id:"STRING","class":"STRING",placeholder:"STRING"},i={hash:{value:"filteredShow",id:"search","class":"form__search",placeholder:"Search..."},contexts:[],types:[],hashContexts:o,hashTypes:h,data:n},n.buffer.push(c((r=s.input||t.input,r?r.call(t,i):l.call(t,"input",i)))),n.buffer.push("\n    </form>\n    "),h={},o={},n.buffer.push(c(s._triageMustache.call(t,"outlet",{hash:{},contexts:[t],types:["ID"],hashContexts:o,hashTypes:h,data:n}))),n.buffer.push("\n  </section>\n</section>\n"),p}),Ember.TEMPLATES.loading=Ember.Handlebars.template(function(e,t,s,a,n){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{},n.buffer.push('<ul>\n  <li class="shows shows__loading">\n    <p>Loading<span>.</span><span>.</span><span>.</span></p>\n  </li>\n</ul>\n')}),Ember.TEMPLATES.shows=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){var a,n,r,o,h="";return t.buffer.push("\n    <li "),n={"class":e},r={"class":"STRING"},t.buffer.push(u(s.bindAttr.call(e,{hash:{"class":":shows__show data.isFiltered"},contexts:[],types:[],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push(">\n      <section class='show__image'>\n        <a href='"),r={},n={},t.buffer.push(u(s.unbound.call(e,"imdbLink",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push("'>\n          <img src='"),r={},n={},t.buffer.push(u(s.unbound.call(e,"data.episode.images.screen",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push("' alt=\""),r={},n={},t.buffer.push(u(s.unbound.call(e,"data.show.title",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push('">\n        </a>\n      </section>\n      <section class=\'show__desc\'>\n        <h2><a href="#" '),r={},n={},t.buffer.push(u(s.action.call(e,"search","data.show.title",{hash:{},contexts:[e,e],types:["STRING","ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push(" >"),r={},n={},t.buffer.push(u(s._triageMustache.call(e,"data.show.title",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push("</a><small> "),r={},n={},t.buffer.push(u(s._triageMustache.call(e,"data.show.network",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push('</small> </h2>\n        <p class=\'meta\'>\n          <span class=\'info\'>\n            <span class="show__episode">\n                S<span class="collapse">eason</span> <span class="number">'),r={},n={},t.buffer.push(u(s._triageMustache.call(e,"data.episode.season",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push('</span> E<span class="collapse">pisode</span> <span class="number">'),r={},n={},t.buffer.push(u(s._triageMustache.call(e,"data.episode.number",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push('</span>\n            </span>\n            <span class="show__time">\n                <span class="sep">&bull;</span>\n                <span class="genre">'),r={},n={},o={hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t},t.buffer.push(u((a=s.formatDate||e.formatDate,a?a.call(e,"data.episode.first_aired_iso",o):f.call(e,"formatDate","data.episode.first_aired_iso",o)))),t.buffer.push('</span><span class="sep">&bull;</span>\n                <span class="genre"> '),r={},n={},t.buffer.push(u(s._triageMustache.call(e,"data.show.air_time",{hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t}))),t.buffer.push(" </span>\n            </span>\n          </span>\n        </p>\n        <p>\n          "),r={},n={},o={hash:{},contexts:[e],types:["ID"],hashContexts:n,hashTypes:r,data:t},t.buffer.push(u((a=s.showDescription||e.showDescription,a?a.call(e,"data.episode.overview",o):f.call(e,"showDescription","data.episode.overview",o)))),t.buffer.push("\n        </p>\n      </section>\n    </li>\n  "),h}function o(e,t){t.buffer.push("\n    <p>No Show Found :(</p>\n  ")}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var h,i,p,l,c="",u=this.escapeExpression,f=s.helperMissing,d=this;return n.buffer.push("<ul class='shows'>\n  "),i={itemController:t},p={itemController:"STRING"},h=s.each.call(t,"data","in","paginatedContent",{hash:{itemController:"show"},inverse:d.program(3,o,n),fn:d.program(1,r,n),contexts:[t,t,t],types:["ID","ID","ID"],hashContexts:i,hashTypes:p,data:n}),(h||0===h)&&n.buffer.push(h),n.buffer.push('\n</ul>\n<section class="pager">\n  <button '),i={disabled:t},p={disabled:"ID"},l={hash:{disabled:"disablePerviousPage"},contexts:[],types:[],hashContexts:i,hashTypes:p,data:n},n.buffer.push(u((h=s["bind-attr"]||t["bind-attr"],h?h.call(t,l):f.call(t,"bind-attr",l)))),n.buffer.push(' class="pager__prev" '),p={},i={},n.buffer.push(u(s.action.call(t,"previousPage",{hash:{},contexts:[t],types:["STRING"],hashContexts:i,hashTypes:p,data:n}))),n.buffer.push(">Previous</button>\n  <button "),i={disabled:t},p={disabled:"ID"},l={hash:{disabled:"disableNextPage"},contexts:[],types:[],hashContexts:i,hashTypes:p,data:n},n.buffer.push(u((h=s["bind-attr"]||t["bind-attr"],h?h.call(t,l):f.call(t,"bind-attr",l)))),n.buffer.push(' class="pager__next" '),p={},i={},n.buffer.push(u(s.action.call(t,"nextPage",{hash:{},contexts:[t],types:["STRING"],hashContexts:i,hashTypes:p,data:n}))),n.buffer.push('>Next</button>\n  <section class="pager__pages">Page '),p={},i={},n.buffer.push(u(s._triageMustache.call(t,"page",{hash:{},contexts:[t],types:["ID"],hashContexts:i,hashTypes:p,data:n}))),n.buffer.push(" / "),p={},i={},n.buffer.push(u(s._triageMustache.call(t,"totalPages",{hash:{},contexts:[t],types:["ID"],hashContexts:i,hashTypes:p,data:n}))),n.buffer.push("</section>\n</section>\n"),c}),function(){App.Router.map(function(){return this.resource("shows",{path:"/"})})}.call(this),function(){}.call(this);